[{"C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\index.tsx":"1","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\reportWebVitals.js":"2","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\App.tsx":"3","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\Slider.js":"4","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\SearchForm.tsx":"5","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\List.tsx":"6","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\Button.js":"7","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\InputWithLabel.tsx":"8","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\Item.tsx":"9"},{"size":500,"mtime":1644933801087,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"11"},{"size":5652,"mtime":1644937936481,"results":"13","hashOfConfig":"11"},{"size":2150,"mtime":1644349548586,"results":"14","hashOfConfig":"11"},{"size":909,"mtime":1644931904096,"results":"15","hashOfConfig":"11"},{"size":646,"mtime":1644930757426,"results":"16","hashOfConfig":"11"},{"size":390,"mtime":1644942738910,"results":"17","hashOfConfig":"11"},{"size":1038,"mtime":1644931887622,"results":"18","hashOfConfig":"11"},{"size":1158,"mtime":1644930515557,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1qs1jxn",{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"25"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\index.tsx",[],["42","43"],"C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\reportWebVitals.js",[],["44","45"],"C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\App.tsx",["46","47"],"import * as React from 'react';\nimport axios from 'axios'\nimport styles from './App.module.css';\nimport List from './Components/List';\nimport Slider from './Components/Slider'\n\nimport SearchForm from './Components/SearchForm';\n\nconst API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?query=';\n\nconst initialStories = [\n  {\n    title: 'React',\n    url: 'https://reactjs.org/',\n    author: 'Jordan Walke',\n    num_comments: 3,\n    points: 4,\n    objectID: 0,\n  },\n  {\n    title: 'Redux',\n    url: 'https://redux.js.org/',\n    author: 'Dan Abramov, Andrew Clark',\n    num_comments: 2,\n    points: 5,\n    objectID: 1,\n  },\n];\n\n// const getAsyncStories = () =>\n//   new Promise((resolve) =>\n//     setTimeout(\n//       () => resolve({ data: { stories: initialStories } }),\n//       1000\n//     )\n//   );\n\n  \n// const getAsyncStories = () =>\n// new Promise((resolve, reject) => setTimeout(reject, 1000)\n// );\n\n// TYPES\n\n\ntype Story = {\n  objectId: string;\n  url: string;\n  title: string;\n  author: string;\n  num_comments: number;\n  points: number;\n}\n\ntype Stories = Array<Story>\n\n\ntype StoriesState = {\n  data: Stories;\n  isLoading: boolean;\n  isError: boolean\n}\n\ntype StoriesAction = \n| StoriesFetchInitAction\n| StoriesFetchSuccessAction\n| StoriesFetchFailureAction\n| StoriesRemoveAction\n\n\ninterface StoriesFetchInitAction {\n  type: 'STORIES_FETCH_INIT'\n}\n\ninterface StoriesFetchSuccessAction {\n  type: 'STORIES_FETCH_SUCCESS';\n  payload: Stories\n}\n\ninterface StoriesFetchFailureAction {\n  type: 'STORIES_FETCH_FAILURE'\n}\n\ninterface StoriesRemoveAction {\n  type: 'REMOVE_STORY';\n  payload: Story;\n}\n\ntype SearchFormProps = {\n  searchTerm: string;\n  onSearchInput: (event: React.ChangeEvent<HTMLInputElement>) => void\n  onSearchSubmit: (event: React.FormEvent<HTMLFormElement>) => void\n}\n//\n\nconst useSemiPersistentState = (\n  key: string, \n  initialState: string): [string, (newValue: string) => void] => {\n  const isMounted = React.useRef(false)\n  const [value, setValue] = React.useState(\n    localStorage.getItem(key) || initialState\n  );\n\n  React.useEffect(() => {\n    if(!isMounted.current) {\n      isMounted.current = true\n    } else {\n    \n    localStorage.setItem(key, value);\n  }}, [value, key]);\n\n  return [value, setValue];\n};\n\n\n\nconst storiesReducer = (\n  state: StoriesState,\n  action: StoriesAction\n) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload\n      }\n      case 'STORIES_FETCH_FAILURE' :\n        return {\n          ...state,\n          isLoading: false,\n          isError: true,\n        };\n        case 'REMOVE_STORY' :\n      return {\n        ...state,\n        data: state.data.filter(\n        (story) => action.payload.objectId !== story.objectId\n      ),\n    }\n    default:\n      throw new Error();\n  }\n};\n\n// const getSumComments = (stories) => {\n//   console.log(\"C\");\n\n//   return stories.data.reduce(\n//     (result, value) => result + value.num_comments,\n//     0\n//   )\n// }\n\n\nconst App = () => {\n  console.log(\"A: App\");\n  const [searchTerm, setSearchTerm] = useSemiPersistentState(\n    'search',\n    'react'\n  );\n\n  const [stories, dispatchStories] = React.useReducer(\n    storiesReducer,\n    {data: [], isLoading: false, isError: false}\n  );\n\n  const [url, setUrl] = React.useState(\n    `${API_ENDPOINT}${searchTerm}`\n  );\n  \n  const handleSearchInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchTerm(event.target.value)\n  }\n  \n  const handleSearchSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    setUrl(`${API_ENDPOINT}${searchTerm}`)\n    event.preventDefault()\n  }\n\n    // Get Sum Comments\n// const sumComments = React.useMemo(() => getSumComments(stories), [stories])\n\n  // Countdown\n\n  const [count, setCount] = React.useState(0);\n\n  const handleIncrease = () => {\n    setTimeout(() => setCount(count + 1));\n  };\n\n  const handleDecrease = () => {\n    setTimeout(() => setCount(count - 1));\n  };\n\n  const handleFetchStories = React.useCallback(async () => {\n\n    dispatchStories({ type: 'STORIES_FETCH_INIT'})\n      try {\n        const result = await axios.get(url)\n    \n       dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: result.data.hits\n        })\n      } catch {\n        dispatchStories({ type: 'STORIES_FETCH_FAILURE'});\n      }\n\n  }, [url]);\n\n  React.useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]\n  )\n\n\n  const handleRemoveStory = (item: Story) => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item,\n    });\n  };\n\n  // const searchedStories = stories.data.filter((story) =>\n  //   story.title.toLowerCase().includes(searchTerm.toLowerCase())\n  // );\n\n\n\n  return (\n    <div>\n      <div className={styles.container}>\n      <h1 className={styles.headlinePrimary}>My Hacker Stories</h1>\n      <SearchForm\n      searchTerm={searchTerm}\n      onSearchInput={handleSearchInput}\n      onSearchSubmit={handleSearchSubmit}\n       />\n      {stories.isError && <p>Something went wrong ...</p>}\n\n      {stories.isLoading ? (\n        <p>Loading ...</p>\n      ) : (\n        <List\n          list={stories.data}\n          onRemoveItem={handleRemoveStory}\n        />\n      )}\n       <Slider />\n  <div>\n    Count: {count}\n    <div>\n      <button type=\"button\" onClick={handleIncrease}>\n        Increase\n      </button>\n      <button type=\"button\" onClick={handleDecrease}>\n        Decrease\n      </button>\n    </div>\n  </div>\n    </div>\n    </div>\n  );\n};\n\n\n\nexport default App;\n","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\Slider.js",["48"],"import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledSlider = styled.div`\r\n  position: fixed;\r\n  right: 0%;\r\n  top: 0%;\r\n  border-radius: 3px;\r\n  background: #dddddd;\r\n  width: 15px;\r\n  height: 100%;\r\n`;\r\n\r\nconst StyledThumb = styled.div`\r\n  width: 35px;\r\n  height: 25px;\r\n  border-radius: 3px;\r\n  position: relative;\r\n  top: 15px;\r\n  opacity: 0.5;\r\n  background: #823eb7;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst getPercentage = (current, max) => (100 * current) / max;\r\n\r\nconst getLeft = percentage => `calc(${percentage}% - 5px)`;\r\n\r\nconst Slider = () => {\r\n    const sliderRef = React.useRef();\r\n    const thumbRef = React.useRef();\r\n    const diff = React.useRef();\r\n\r\n    const handleMouseMove = event => {\r\n        let newY =\r\n        event.clientY -\r\n        diff.current -\r\n        sliderRef.current.getBoundingClientRect().top;\r\n        \r\n\r\n        const end = sliderRef.current.offsetHeight - thumbRef.current.offsetHeight;\r\n        console.log(thumbRef.current.offsetHeight);\r\n        const start = 0;\r\n\r\n        if (newY < start) {\r\n            newY = 0;\r\n        }\r\n    \r\n        if (newY > end) {\r\n            newY = end;\r\n        }\r\n        const newPercentage = getPercentage(newY, end);\r\n\r\n        thumbRef.current.style.top = getLeft(newPercentage);\r\n      };\r\n    \r\n      const handleMouseUp = () => {\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n      };\r\n    \r\n      const handleMouseDown = event => {\r\n        diff.current =\r\n        event.clientY - thumbRef.current.getBoundingClientRect().top;\r\n        \r\n        document.addEventListener('mousemove', handleMouseMove);\r\n        document.addEventListener('mouseup', handleMouseUp);\r\n      };\r\n\r\n      const handleMouseClick = (event) => {\r\n        diff.current =\r\n        event.clientY - thumbRef.current.getBoundingClientRect().top;\r\n      }\r\n    \r\n    \r\n    return (\r\n      <>\r\n        <StyledSlider ref={sliderRef}>\r\n          <StyledThumb ref={thumbRef} onMouseDown={handleMouseDown} />\r\n        </StyledSlider>\r\n      </>\r\n    );\r\n  };\r\nexport default Slider","C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\SearchForm.tsx",[],"C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\List.tsx",[],"C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\Button.js",[],"C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\InputWithLabel.tsx",[],"C:\\Users\\bruno\\Documents\\CursadaFullStack\\RoadToReact-Book\\hacker-stories\\src\\Components\\Item.tsx",[],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":11,"column":7,"nodeType":"55","messageId":"56","endLine":11,"endColumn":21},{"ruleId":"53","severity":1,"message":"57","line":89,"column":6,"nodeType":"55","messageId":"56","endLine":89,"endColumn":21},{"ruleId":"58","severity":1,"message":"59","line":70,"column":13,"nodeType":"55","messageId":"56","endLine":70,"endColumn":29},"no-native-reassign",["60"],"no-negated-in-lhs",["61"],"@typescript-eslint/no-unused-vars","'initialStories' is assigned a value but never used.","Identifier","unusedVar","'SearchFormProps' is defined but never used.","no-unused-vars","'handleMouseClick' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]